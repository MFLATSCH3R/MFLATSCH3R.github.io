(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"4ecb":function(t,e,o){},"8b24":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{staticClass:"flex flex-center"},[o("ol-map")],1)},i=[],a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"ol-map"}},[o("q-page-sticky",{staticClass:"front",attrs:{position:"bottom-right",offset:[18,18]}},[o("q-btn",{attrs:{round:"",color:t.colorClass,icon:"location_on"},on:{click:t.toggleTracking}})],1)],1)},r=[],c=(o("d81d"),o("5bc0"),o("5eee")),s=o("a2c7"),l=o("4cdf"),u=o("6c77"),d=o("ce2c"),g=o("83a6"),h=o("8682"),f=o("f403"),m=o("480c"),k=o("3e6b"),p=o("d0e9"),w=o("5831"),v=o("256f"),b={name:"Map",data:function(){return{x:"",y:"",alt:"",tracking:{active:!1,color:"accent",options:{enableHighAccuracy:!0,timeout:1/0,maximumAge:0}}}},mounted:function(){this.initMap(),this.getCurrentPosition()},methods:{initMap:function(){this.map=new c["a"]({target:"ol-map",layers:[],view:new s["a"]({center:Object(v["d"])([13,47]),zoom:15})}),this.addLayers(),this.getCurrentPosition(),this.registerPressEvent()},registerPressEvent:function(){var t,e,o=500,n=!1;this.map.on("click",(function(t){!0===n&&console.log("show save dialog")})),this.map.on("pointerdown",(function(){t=(new Date).getTime()})),this.map.on("pointerup",(function(){e=(new Date).getTime();var i=e-t;n=i>o}))},addLayers:function(){var t=new m["a"]({source:new p["a"],zIndex:100});this.map.addLayer(t),this.markerLayer=new k["a"]({source:new w["a"]({features:[]}),style:new u["b"]({image:new d["a"]({radius:12,fill:new g["a"]({color:"rgba(204,0,204,0.20)"}),stroke:new h["a"]({color:"rgb(204,0,204)",width:2})})}),zIndex:900,visible:!0}),this.map.addLayer(this.markerLayer)},goToLocation:function(t,e){null!==t&&null!==e&&this.map.getView().setCenter(Object(v["d"])([t,e]))},getCurrentPosition:function(){var t=this;navigator.geolocation.getCurrentPosition((function(e){null!=e.coords.longitude&&null!=e.coords.latitude&&(t.addMarker(e.coords.longitude,e.coords.latitude),t.goToLocation(e.coords.longitude,e.coords.latitude),t.alt=e.coords.altitude)}),(function(t){console.log(t)}),this.tracking.options)},toggleTracking:function(){this.tracking.active?(this.stopTracking(),this.hideMarker()):(this.startTracking(),this.showMarker()),this.tracking.active=!this.tracking.active},startTracking:function(){var t=this;this.getCurrentPosition(),this.trackingId=navigator.geolocation.watchPosition((function(e){t.updateMarkerPosition(e.coords.longitude,e.coords.latitude),t.goToLocation(e.coords.longitude,e.coords.latitude)}),(function(t){console.log(t)}),this.tracking.options)},stopTracking:function(){navigator.geolocation.clearWatch(this.trackingId)},addMarker:function(t,e){var o=new f["a"](Object(v["d"])([t,e]));this.marker=new l["a"](o),this.markerLayer.getSource().addFeature(this.marker)},showMarker:function(){this.markerLayer.setVisible(!0)},hideMarker:function(){this.markerLayer.setVisible(!1)},updateMarkerPosition:function(t,e){this.marker.getGeometry().setPosition(Object(v["d"])([t,e]))}},computed:{colorClass:function(){var t=!0===this.tracking.active?"accent":"";return t}}},y=b,P=(o("e969"),o("2877")),L=o("de5e"),M=o("9c40"),T=o("eebe"),C=o.n(T),x=Object(P["a"])(y,a,r,!1,null,"4f80ec3f",null),j=x.exports;C()(x,"components",{QPageSticky:L["a"],QBtn:M["a"]});var O={name:"PageIndex",components:{"ol-map":j}},I=O,_=o("9989"),E=Object(P["a"])(I,n,i,!1,null,null,null);e["default"]=E.exports;C()(E,"components",{QPage:_["a"]})},e969:function(t,e,o){"use strict";var n=o("4ecb"),i=o.n(n);i.a}}]);