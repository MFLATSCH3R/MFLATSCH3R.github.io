(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"04e1":function(e,t,a){},5431:function(e,t,a){"use strict";var n=a("a41d"),o=a.n(n);o.a},a41d:function(e,t,a){},a6b3:function(e,t,a){"use strict";var n=a("04e1"),o=a.n(n);o.a},e6e1:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ol-map",{staticClass:"map-container",attrs:{data:e.mapData}})},o=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"map",attrs:{id:"mapContainer"}})},i=[],s=(a("a69f"),a("5bc0"),a("5eee")),c=a("a2c7"),u=a("4cdf"),l=a("f822"),d=a("f403"),p=a("3e6b"),f=a("480c"),m=a("5831"),h=a("d0e9"),w=a("6c77"),g=a("83a6"),v=a("8682"),b=a("256f"),E=a("ce2c"),S={name:"Map",mounted:function(){this.initMap()},created:function(){document.addEventListener("resize",this.onWindowResize)},beforeDestroy:function(){document.removeEventListener("resize",this.onWindowResize)},methods:{initMap:function(){this.markerLayer=new p["a"]({source:new m["a"]({wrapX:!1}),zIndex:200}),this.map=new s["a"]({target:"mapContainer",layers:[this.markerLayer,new f["a"]({zIndex:100,source:new h["a"]})],view:new c["a"]({center:[0,0],zoom:7})}),this.map.on("postrender",this.onPostRender),this.getBrowserLocation(),this.getData()},onPostRender:function(e){this.map.updateSize()},getBrowserLocation:function(e){var t=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var a=e.coords.longitude,n=e.coords.latitude;t.map.getView().setCenter(Object(b["m"])([parseFloat(a),parseFloat(n)],"EPSG:4326","EPSG:3857"))}))},getData:function(){var e=this;this.$axios({url:"https://coronavirus-tracker-api.herokuapp.com/v2/locations",method:"GET"}).then((function(t){e.processData(t.data)})).catch((function(t){e.$q.notify({color:"negative",position:"top",message:"failed loading data",icon:"report_problem"}),console.log(t)}))},processData:function(e){var t=this,a=this.markerLayer.getSource();e.locations.forEach((function(e){var n=parseFloat(e.coordinates.longitude),o=parseFloat(e.coordinates.latitude),r=e.latest.confirmed,i=new u["a"](new l["a"](Object(b["m"])([n,o],"EPSG:4326","EPSG:3857")));i.setStyle(t.getStyle(n,o,r)),a.addFeature(i)}))},getStyle:function(e,t,a){var n=Math.log2(a)||12;return new w["b"]({geometry:new d["a"](Object(b["m"])([e,t],"EPSG:4326","EPSG:3857")),image:new E["a"]({radius:n,fill:new g["a"]({color:"red"}),stroke:new v["a"]({color:"black",width:2})})})}}},y=S,k=(a("a6b3"),a("2877")),P=Object(k["a"])(y,r,i,!1,null,"0d60b8d7",null),z=P.exports,D={name:"Map",components:{"ol-map":z},data:function(){return{mapData:null}}},G=D,L=(a("5431"),Object(k["a"])(G,n,o,!1,null,"28ff033c",null));t["default"]=L.exports}}]);